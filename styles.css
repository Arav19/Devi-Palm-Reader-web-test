:root{
  --bg:#05020a;
  --panel:linear-gradient(180deg,#0b0410 0%, #14081a 100%);
  --deep-purple:#3b0e66;
  --accent:#5b1a84; /* deep purple */
  --gold:#e0b24a;
  --gold-2:#ffd37a;
  --orange:#ff8b3d;
  --muted:#c9bfd1;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Arial;color:#e6eef8;background:linear-gradient(180deg,#05040a 0%, #0b0b10 40%, #0f1220 100%);}
main{max-width:980px;margin:28px auto;padding:24px;background:radial-gradient(ellipse at top left, rgba(167,123,255,0.06), transparent 20%), rgba(255,255,255,0.02);border-radius:14px;box-shadow:0 8px 30px rgba(0,0,0,0.6);}
main{background: radial-gradient(ellipse at top left, rgba(91,26,132,0.08), transparent 18%), linear-gradient(180deg,#070210 0%, #0b0410 100%);border-radius:18px;padding:28px}
.header{display:flex;flex-direction:column;align-items:center;gap:6px;margin-bottom:12px}
.header h1{margin:0;font-size:2rem;letter-spacing:1px;color:var(--gold);text-shadow:0 4px 22px rgba(88,26,132,0.2)}
.subtitle{margin:0;color:var(--gold-2);opacity:0.95;font-style:italic}

.stage.frame{position:relative;padding-top:56%;border-radius:14px;overflow:hidden;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow: inset 0 0 80px rgba(91,26,132,0.08);border:1px solid rgba(255,215,120,0.03)}
.stage{position:relative;width:100%;padding-top:56%;border-radius:10px;overflow:hidden;background:linear-gradient(180deg,#08101a, #0c0812);box-shadow: inset 0 0 60px rgba(167,123,255,0.03);}
#stage .ornament{display:none}
video, canvas{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}
#preview{mix-blend-mode:normal}
#glow{pointer-events:none}
#scan{pointer-events:none;mix-blend-mode:screen}
#particles{pointer-events:none;mix-blend-mode:screen}

.frame-decor{position:absolute;inset:0;border-radius:14px;box-shadow:0 0 40px rgba(224,178,74,0.06) inset;pointer-events:none}
.ornament{position:absolute;width:48px;height:48px;background:radial-gradient(circle at 30% 30%, rgba(255,215,120,0.9), rgba(255,180,80,0.2));transform:rotate(12deg);opacity:0.95}
.ornament.top-left{left:12px;top:12px;border-radius:6px}
.ornament.top-right{right:12px;top:12px;border-radius:6px}

/* Buttons get a gold sheen on hover */
button{transition:transform .18s ease, box-shadow .18s ease}
button:hover{transform:translateY(-3px);box-shadow:0 18px 40px rgba(224,178,74,0.12)}

.subtitle{font-size:0.95rem}
.controls{display:flex;gap:10px;align-items:center;margin-top:12px}
button{background:linear-gradient(180deg,var(--accent),#3d0f5f);border:0;padding:10px 14px;border-radius:8px;color:white;font-weight:600;cursor:pointer;box-shadow:0 8px 28px rgba(91,26,132,0.22)}
label.upload{display:inline-flex;align-items:center;gap:8px;background:transparent;border-radius:8px;padding:6px 10px;border:1px solid rgba(255,255,255,0.03);color:var(--muted);cursor:pointer}
label.upload input{display:none}
button.secondary{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
#status{margin-left:8px;color:var(--muted)}
.note{color:var(--muted);font-size:0.9rem;margin-top:10px}

/* glow canvas will use additive blending */
#glow{mix-blend-mode:screen}

@media (max-width:600px){main{margin:12px;padding:12px}button{padding:8px 10px}}

/* Mobile layout adjustments */
@media (max-width:420px){
  main{padding:16px;margin:8px}
  .stage.frame{padding-top:100%;border-radius:12px}
  .control-row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  label.device-select{flex:1}
  #cameraSelect{width:100%}
}
